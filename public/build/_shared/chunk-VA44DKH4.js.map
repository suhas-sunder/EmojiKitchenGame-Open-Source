{
  "version": 3,
  "sources": ["../../../app/client/components/api/trackingAPI.ts", "../../../app/client/components/hooks/useUpdateLikes.tsx", "../../../app/client/components/ui/LikesAndViews.tsx"],
  "sourcesContent": ["// REMIX HMR BEGIN\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\nimport.meta.hot = __hmr__.createHotContext(\n//@ts-expect-error\n\"app/client/components/api/trackingAPI.ts\"\n);\nimport.meta.hot.lastModified = \"1731046171307.7637\";\n}\n// REMIX HMR END\n\nimport axios from \"axios\";\n\n// Determine the base URL based on environment variables\nconst baseURL =\n  import.meta.env.MODE === \"production\"\n    ? `https://www.emojikitchengame.com/v1/api/tracking`\n    : `http://localhost:${import.meta.env.VITE_PORT || 3200}/v1/api/tracking`;\n\nconst instance = axios.create({\n  baseURL,\n  timeout: 30000,\n});\n\nexport default instance;\n", "// REMIX HMR BEGIN\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\nimport.meta.hot = __hmr__.createHotContext(\n//@ts-expect-error\n\"app/client/components/hooks/useUpdateLikes.tsx\"\n);\nimport.meta.hot.lastModified = \"1731046171308.6924\";\n}\n// REMIX HMR END\n\nimport { TotalsType } from \"../../../routes/emoji-combos\";\nimport trackingAPI from \"../api/trackingAPI\";\n\ninterface PropType {\n  setTotalStats: (value: (prev: TotalsType[]) => TotalsType[]) => void;\n}\n\nfunction useUpdateLikes({ setTotalStats }: PropType) {\n  const updateLikeCount = async (emoji_unicode: string) => {\n    if (process.env.NODE_ENV === \"development\") return;\n    const likedKey = `liked_${emoji_unicode}`;\n\n    // Check if the emoji has already been liked\n    if (localStorage.getItem(likedKey)) {\n      return;\n    }\n\n    try {\n      const response = await trackingAPI.post(\"/update-like-count\", {\n        emoji_unicode,\n      });\n\n      if (response.status === 200) {\n        setTotalStats((prevStats) => {\n          const statIndex = prevStats.findIndex(\n            (stat) => stat.emoji_unicode === emoji_unicode\n          );\n\n          if (statIndex !== -1) {\n            // Explicitly convert to number before adding\n            const newLikes = Number(prevStats[statIndex].total_likes) + 1;\n            const newStats = [...prevStats];\n            newStats[statIndex] = {\n              ...newStats[statIndex],\n              total_likes: newLikes,\n            };\n            return newStats;\n          } else {\n            // Add a new stat entry for the emoji with explicit number values\n            return [\n              ...prevStats,\n              { emoji_unicode, total_likes: 1, total_views: 0 },\n            ];\n          }\n        });\n\n        localStorage.setItem(likedKey, \"true\");\n      } else {\n        console.error(`Failed to update like count: ${response.status}`);\n      }\n    } catch (err) {\n      let message: string;\n\n      if (err instanceof Error) {\n        message = err.message;\n      } else {\n        message = String(err);\n      }\n\n      console.error(message);\n    }\n  };\n\n  return { updateLikeCount };\n}\n\nexport default useUpdateLikes;\n", "// REMIX HMR BEGIN\nif (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n  console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n} else {\n  var prevRefreshReg = window.$RefreshReg$;\n  var prevRefreshSig = window.$RefreshSig$;\n  window.$RefreshReg$ = (type, id) => {\n    window.$RefreshRuntime$.register(type, \"\\\"app/client/components/ui/LikesAndViews.tsx\\\"\" + id);\n  }\n  window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n}\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app/client/components/ui/LikesAndViews.tsx\");\n  import.meta.hot.lastModified = \"1731046171311.6501\";\n}\n// REMIX HMR END\n\nfunction LikesAndViews({\n  unicode,\n  totalStats\n}) {\n  return <>\n      <div className=\"grid grid-cols-2 underline underline-offset-2 text-sm text-purple-400 justify-center w-full items-center gap-5\">\n        <div className=\"flex  justify-center items-center w-full\">Likes</div>\n        <div className=\"flex  justify-center items-center w-full\">Views</div>\n      </div>\n      <div className=\"grid grid-cols-2 justify-center mb-2 text-purple-500 w-full items-center gap-5\">\n        <div>\n          \uD83D\uDC96{\" \"}\n          {totalStats?.filter(total => total?.emoji_unicode === unicode)[0]?.total_likes.toLocaleString(\"en-US\") || 0}\n        </div>\n        <div>\n          \uD83D\uDC41\uFE0F{\" \"}\n          {totalStats?.filter(total => total?.emoji_unicode === unicode)[0]?.total_views.toLocaleString(\"en-US\") || 0}\n        </div>\n      </div>\n    </>;\n}\n_c = LikesAndViews;\nexport default LikesAndViews;\nvar _c;\n$RefreshReg$(_c, \"LikesAndViews\");\n\nwindow.$RefreshReg$ = prevRefreshReg;\nwindow.$RefreshSig$ = prevRefreshSig;"],
  "mappings": "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",
  "names": []
}
